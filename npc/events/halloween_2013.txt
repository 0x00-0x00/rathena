//===== rAthena Script =======================================
//= Official iRO Halloween Event 2013
//===== By: ==================================================
//= Akkarin
//===== Current Version: =====================================
//= 1.0
//===== Compatible With: =====================================
//= rAthena
//===== Description: =========================================
//= This event ran on iRO from 16th Oct to 6th Nov (3 weeks)
//===== Additional Comments: =================================
//= 1.0 Conversion from official script -> rAthena. [Akkarin]
//============================================================

prontera,154,136,5	script	suspicious coffin#2013HE	801,{
	if (eve_bs < 1) {
		mes "- the coffin seems very suspicious -";
		next;
		switch (select("leave it:knock-knock.")) {
		case 1:
			mes "- you left though with doubt. -";
			close;
			break;
		case 2:
			mes "- tap tap tap -";
			next;
			mes "[???]";
			mes "awwww!!!";
			mes "W......Who are you!!!";
			next;
			mes "- chunk -";
			mes "- thump -";
			next;
			mes "[???]";
			mes "ouch, my head!!!";
			next;
			mes "[???]";
			mes "are you okay? Trick?";
			next;
			mes "[Trick]";
			mes "i'm fine!";
			mes "This is not a big deal!";
			mes "Treat.";
			next;
			mes "[Treat]";
			mes "Your head is pumping out strawberry jam!";
			mes "Trick.";
			next;
			mes "[Trick]";
			mes "Awwww!";
			mes "ugh!!!!";
			mes "i'm gonna die!!!";
			mes "Oh, no...!!!";
			next;
			mes "[Trick]";
			mes "koff, koff...";
			mes "i was happy with you.....though it was short time...";
			mes "Treat....";
			next;
			mes "[Trick]";
			mes "I die.......";
			next;
			mes "[Treat]";
			mes "...";
			next;
			mes "[Treat]";
			mes "Trick.";
			next;
			mes "[Treat]";
			mes "we never die...";
			mes "we'd died before.";
			next;
			mes "[Trick]";
			mes "yipee, yeah, that's true!";
			next;
			mes "[Trick]";
			mes "i forget everytime as i died for a long time ago.";
			next;
			mes "[Trick]";
			mes "yow!!!";
			mes "by the way!!!!";
			mes "we are not supposed to waste time like this!";
			mes "Treat.";
			next;
			mes "[Trick]";
			mes "we will die if we dont get back to master with ^ff9000'that'^000000...";
			next;
			mes "[Treat]";
			mes "we are dead already...";
			mes "Trick.";
			next;
			mes "[Treat]";
			mes "we will be bothered by him until we lose his temper at the most.";
			next;
			mes "[Trick]";
			mes "Ah...no...";
			mes "hurry!";
			mes "let's go fid 'that' !";
			mes "Treat.";
			next;
			mes "[Treat]";
			mes "now...";
			next;
			mes "[Trick]";
			mes "^ff9000Ugh, awww, hik, heck!!!!!!!!^000000";
			next;
			mes "[Treat]";
			mes "we gonna die with sun burn if we leave now.";
			mes "Trick.";
			next;
			mes "[Trick]";
			mes "you MUST say that much important thing in advance!!!!!!!!!";
			next;
			mes "[Treat]";
			mes "this world was good only we were alive.";
			next;
			mes "[Trick]";
			mes "Hey!";
			mes "You!";
			next;
			mes "[Trick]";
			mes "you are the first man made my head pump out strawberry jam.";
			mes "would you love..me...?";
			next;
			mes "- Crash! -";
			next;
			mes "- there is more jam coming out under the coffin. -";
			next;
			mes "[Treat]";
			mes "he is little bit strange as for the jam he bleeded.";
			mes "Trick..";
			next;
			mes "[Trick]";
			mes "no,treat.";
			mes "now i feel very refreshed, would you put down that club??.";
			next;
			mes "[Trick]";
			mes "hey you!";
			mes "i don't blame you for making my head like this but would you help us?";
			next;
			mes "[Trick]";
			mes "don't feel pressured.";
			mes "the strawberry thing will be recovered after few days of illness.";
			next;
			switch (select("help them.:leave it.")) {
			case 1:
				mes "[Trick]";
				mes "haha!";
				mes "Thanks!";
				next;
				switch (select("listen their story.")) {
				case 1:
					break;
				}
				mes "[Trick]";
				mes "it is secret...";
				mes "well, we are dead.";
				next;
				mes "- kaboom! -";
				next;
				mes "[Trick]";
				mes "it hurts.";
				mes "Treat.";
				next;
				mes "[Trick]";
				mes "I will explain properly, just put that down.";
				next;
				mes "[Trick]";
				mes "we are from  ^ff9000'town of the dead' NIffleheim^000000.";
				next;
				mes "[Trick]";
				mes "^ff9000the pumpkins for halloween event on niffleheim^000000 were all disappeared.";
				next;
				mes "[Trick]";
				mes "first we are preparing another cake but Sir, Hell loves pumpkin cake.......halloween without pumpkin cake is like vampire without fang...";
				next;
				mes "[Trick]";
				mes "we came to search pumpkin as our chef is too busy to do with other things,";
				next;
				mes "[Trick]";
				mes "far from searching them, we are at risk for leaving this coffin...";
				next;
				mes "[Trick]";
				mes "^ff9000pumpkins are any of field. please collect organic or non-organic pumpkins for 30 people and bring them to chef. candycon at Niffleheim.^000000";
				next;
				mes "[Trick]";
				mes "organic pumpkin has more valuable,";
				mes "it is triple times useful!";
				set eve_bs, 1;
				setquest 11378;
				close;
				break;
			case 2:
				mes "[Trick]";
				mes "Ooops!";
				mes "well, then we have to go out Treat!";
				next;
				mes "[Treat]";
				mes "Don't worry treat.";
				mes "we just will be sent back to Niffleheim in the worst case. ";
				close;
				break;
			}
			break;
		}
	} else if (eve_bs == 1) {
		mes "[Trick]";
		mes "we are from  ^ff9000'town of the dead' NIffleheim^000000.";
		next;
		mes "[Trick]";
		mes "^ff9000the pumpkins for halloween event on niffleheim^000000 were all disappeared.";
		next;
		mes "[Trick]";
		mes "first we are preparing another cake but Sir, Hell loves pumpkin cake.......halloween without pumpkin cake is like vampire without fang...";
		next;
		mes "[Trick]";
		mes "we came to search pumpkin as our chef is too busy to do with other things,";
		next;
		mes "[Trick]";
		mes "far from searching them, we are at risk for leaving this coffin...";
		next;
		mes "[Trick]";
		mes "^ff9000pumpkins are any of field. please collect organic or non-organic pumpkins for 30 people and bring them to chef. candycon at Niffleheim.^000000";
		next;
		mes "[Trick]";
		mes "organic pumpkin has more valuable,";
		mes "it is triple times useful!";
		close;
	} else if (eve_bs == 2) {
		if (isbegin_quest(11378) > 0) {
			mes "[Trick]";
			mes "^ff9000pumpkins are any of field. please collect organic or non-organic pumpkins for 30 people and bring them to chef. candycon at Niffleheim.^000000";
			next;
			mes "[Trick]";
			mes "organic pumpkin has more valuable,";
			mes "it is triple times useful!";
			close;
		} else {
			mes "[Trick]";
			mes "thanks! we won't die for sun burn!";
			next;
			mes "[Treat]";
			mes "Thanks.";
			next;
			mes "[Trick]";
			mes "and if you don't mind, would you please help more?";
			mes "pumpkin cake is still deficient.";
			next;
			mes "[Trick]";
			mes "last time when i visited there, i saw piled up pumpkin cake which was taller than castle...how much should we make more?";
			next;
			switch (select("help them:leave it.")) {
			case 1:
				mes "[Trick]";
				mes "^ff9000pumpkins are any of field. please collect organic or non-organic pumpkins for 30 people and bring them to chef. candycon at Niffleheim.^000000";
				next;
				mes "[Trick]";
				mes "organic pumpkin has more valuable,";
				mes "it is triple times useful!";
				setquest 11378;
				close;
				break;
			case 2:
				mes "[Trick]";
				mes "Ooops!";
				mes "well, then we have to go out Treat!";
				next;
				mes "[Treat]";
				mes "Don't worry treat.";
				mes "we just will be sent back to Niffleheim in the worst case. ";
				close;
				break;
			}
		}
	} else {
	}
}

niflheim,181,173,5	script	Chef Candycon#2013HE	796,{
	set .@o_pum, countitem(6804);
	set .@i_pum, countitem(6805);
	set .@oo_pum, .@o_pum * 3;
	set .@pumpum, .@i_pum + .@oo_pum;
	if (eve_bs == 1) {
		if (.@pumpum > 29) {
			mes "[Chef Candycon]";
			mes "clang~clang~!";
			next;
			mes "[Chef Candycon]";
			mes "Phew... when is the end of making this cake? ...feel like eternal";
			next;
			mes "[Chef Candycon]";
			mes "holy mother! i will hang anyone who suggest to make pumpkin cake on tree from next time.";
			next;
			mes "[Chef Candycon]";
			mes "Though Sir, Hell like this but he doesn't care what pumpkin used. he said he is good with normal but";
			next;
			mes "[Chef Candycon]";
			mes "ALWAYS saying this pumpkin is not good....only the organic is good...what the heck, are you a cook!? if you know cooking that much why you don't you do by yourself!!";
			next;
			mes "[Chef Candycon]";
			mes "and never helped me for escaping pumpkins and pretend busy? UGH! tut";
			next;
			mes "[Chef Candycon]";
			mes "my lord!!!";
			mes "Hu....Human!!";
			mes "hub~ (deep breath)..";
			next;
			mes "[Chef Candycon]";
			mes "li.....ving....h....u.... m....a....n....";
			next;
			mes "[Chef Candycon]";
			mes "how...........do....you......come......";
			mes "to.....town.......... of......... the dead.......";
			mes "Ni....ffle.......he...im........";
			next;
			mes "[Chef Candycon]";
			mes "he....re....";
			mes "is.........not........";
			mes "for..................";
			mes "li..ving....crea...ture.......";
			next;
			switch (select("tell him about pumpkin.")) {
			case 1:
				break;
			}
			mes "[Chef Candycon]";
			mes ".....Pu...........m............ki....n.....";
			next;
			mes "[Chef Candycon]";
			mes "It...has...been....";
			mes "O.....ver....but....";
			mes "ca...me......a...gain....";
			next;
			mes "[" + strcharinfo(0) + "]";
			mes "Why don't you speak normally.";
			next;
			mes "[Chef Candycon]";
			mes "......";
			next;
			mes "[Chef Candycon]";
			mes "May....may i??";
			next;
			mes "[Chef Candycon]";
			mes "ah...i'm not supposed to speak like this...we also have image making issue....";
			next;
			mes "[Chef Candycon]";
			mes "speaking like this is way better to scare people...heww..however, i can't bare it as it is too stuffy.";
			next;
			mes "[Chef Candycon]";
			mes "anyway! it won't be delayed if those pumpkins didn't escape to midgards.";
			next;
			mes "[Chef Candycon]";
			mes "obviouslt, we are dead so we are pretty weak at sun. we would be a pile of ash if we searched on day time.";
			next;
			mes "[Trick]";
			mes "did you know?! how could you send us to seach pumpkin?!";
			next;
			mes "[Chef Candycon]";
			mes "what? you can walk around after sunset. and you got wings and night vision... and what? ultra sonic..?!!!!";
			next;
			mes "[Treat]";
			mes "so i didn't leave coffin.";
			next;
			mes "[Trick]";
			mes "ah...?!";
			next;
			mes "[Chef Candycon]";
			mes "gosh. how fortune we are for your effort, considering the process after bringing pumpkins";
			next;
			switch (select("give pumpkins.")) {
			case 1:
				break;
			}
			mes "[Chef Candycon]";
			mes "let me see! correct? yeah that's it! hold on a sec.";
			next;
			mes "[Chef Candycon]";
			mes "well, ^ff9000i need all the pumpkin^000000!";
			mes "if we dont' work fast, we will late for festival.";
			next;
			mes "^ff9000*****WARNING*****^000000";
			mes "^ff9000you will give all of pumpkin, [ALL]^000000";
			mes "^ff9000would you proceed?^000000";
			switch (select("give all of pumpkin.:cancel")) {
			case 1:
				if (.@pumpum > 29){
					if (.@i_pum > 0) { // Inorganic Pumpkin
						delitem 6805,.@i_pum;
					}
					if (.@o_pum > 0) { // Organic Pumpkin
						delitem 6804,.@o_pum;	
					}
					set eve_bs,2;	
					getitem 22669,1; // Halloween Gift Box
					erasequest 11378;	
					mes "[Chef Candycon]";
					mes "Okay! dig out the inside of pumpkin and like this~ and that~!";
					next;
					mes "[Chef Candycon]";
					mes "Cool! pumpkin has been carved just in shape? this is it for halloween! Halloween without Jack'o lantern can't be real halloween!";
					next;
					mes "[Chef Candycon]";
					mes "take this, it's a reward for bringing pumpkins! Open it, there might be some fun stuff..";
					close;
				} else {
					mes "[Chef Candycon]";
					mes "Ooops where is pumpkin? escaped again?";
					mes "Oh, boy...no... you should go to get them again..";
					close;
				}
				break;
			case 2:
				mes "[Chef Candycon]";
				mes "eeh~~ You have no use of those pumpkins~~";
				close;
				break;
			}
		} else {
			mes "[Chef Candycon]";
			mes "li.....ving....h....u.... m....a....n....";
			next;
			mes "[Chef Candycon]";
			mes "how...........do....you......come......";
			mes "to.....town.......... of......... the dead.......";
			mes "Ni....ffle.......he...im........";
			next;
			mes "[Chef Candycon]";
			mes "he....re....";
			mes "is.........not........";
			mes "for..................";
			mes "li..ving....crea...ture.......";
			close;
		}
	} else if (eve_bs == 2) {
		if (isbegin_quest(11378) > 0) {
			mes "[Chef Candycon]";
			mes "eh! more pumpkins??";
			mes "heck.. seriously...how many more left?..";
			next;
			mes "[Chef Candycon]";
			mes "well, ^ff9000i need all the pumpkin^000000!";
			mes "if we dont' work fast, we will late for festival.";
			next;
			mes "^ff9000*****WARNING*****^000000";
			mes "^ff9000you will give all of pumpkin, [ALL]^000000";
			mes "^ff9000would you proceed?^000000";
			switch (select("give all of pumpkin.:cancel")) {
			case 1:
				if (.@pumpum > 29){
					if (.@i_pum > 0) { // Inorganic Pumpkin
						delitem 6805,.@i_pum;
					}
					if (.@o_pum > 0) { // Organic Pumpkin
						delitem 6804,.@o_pum;
					}
					getitem 22669,1;
					erasequest 11378;
					mes "[Chef Candycon]";
					mes "Okay! dig out the inside of pumpkin and like this~ and that~!";
					next;
					mes "[Chef Candycon]";
					mes "Cool! pumpkin has been carved just in shape? this is it for halloween! Halloween without Jack'o lantern can't be real halloween!";
					next;
					mes "[Chef Candycon]";
					mes "take this, it's a reward for bringing pumpkins! Open it, there might be some fun stuff..";
					close;
				} else {
					mes "[Chef Candycon]";
					mes "Ooops where is pumpkin? escaped again?";
					mes "Oh, boy...no... you should go to get them again..";
					close;
				}
				break;
			case 2:
				mes "[Chef Candycon]";
				mes "eeh~~ You have no use of those pumpkins~~";
				close;
				break;
			}
		} else {
			mes "[Chef Candycon]";
			mes "Yo! thanks to your delivery, baking cake day and night.";
			mes "laying on the tomb will not garantee eternal sleeping. T.T ";
			close;
		}
	} else {
		mes "[Chef Candycon]";
		mes "li.....ving....h....u.... m....a....n....";
		next;
		mes "[Chef Candycon]";
		mes "how...........do....you......come......";
		mes "to.....town.......... of......... the dead.......";
		mes "Ni....ffle.......he...im........";
		next;
		mes "[Chef Candycon]";
		mes "he....re....";
		mes "is.........not........";
		mes "for..................";
		mes "li..ving....crea...ture.......";
		close;
	}
	end;
}

niflheim,182,177,3	script	Trick#2013HE	799,{
	if (eve_bs == 1) {
		mes "[Trick]";
		mes "it's really fresh, outside of coffin?";
		mes "have you got 30 pumpkins?";
		next;
		mes "[Trick]";
		mes "If you brought all, deliver them to the chef there.";
		close;
	} else if (eve_bs > 1) {
		mes "[Trick]";
		mes "what would happen without your help?~";
		next;
		mes "[Treat]";
		mes "maybe, Sir, Hell would have grilled bat, instead of pumpkin cake.";
		next;
		mes "[Trick]";
		mes "Gosh....";
		close;
	} else {
		mes "[Trick]";
		mes "I don't need sweets!!";
		mes "as i will just mess up everything! wahahahaa!";
		close;
	}
	end;
}

niflheim,183,176,3	script	Treat#2013HE	799,{
	if (eve_bs == 1) {
		mes "[Treat]";
		mes "......";
		close;
	} else if (eve_bs > 1) {
		mes "[Treat]";
		mes "doing good...?";
		close;
	} else {
		mes "[Treat]";
		mes "-giggle-";
		close;
	}
	end;
}

niflheim,179,168,5	script	Kentucky#2013HE	800,{
	mes "[Kentucky]";
	mes "ho.. these seeds has really deep taste";
	mes "i will be able to have this kind of seeds no matter how much.";
	close;
}

niflheim,177,166,8	script	Chicken#2013HE	800,{
	mes "[Chicken]";
	mes "Hey kentucky!!";
	mes "you are eating alone too much!";
	close;
}

niflheim,198,175,5	script	Wandering soul#2013HE	802,{
	mes "[Wandering soul]";
	mes "-giggle-";
	mes "the festival is about to begin...";
	close;
}

niflheim,191,180,3	script	Wandering soul#2013HE2	802,{
	mes "[Wandering soul]";
	mes "living creatures can't participate in the festival of Niffleheim -giggle- ";
	close;
}

niflheim,181,181,5	script	Wandering soul#2013HE3	802,{
	mes "[Wandering soul]";
	mes "the festival brought vitality to 'city of the dead'....";
	mes "doesn't it seem something wrong??";
	close;
}

niflheim,183,162,5	script	Wandering soul#2013HE4	802,{
	mes "[Wandering soul]";
	mes "soon, the festivel of soul will be here!";
	close;
}
